<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kakao Map</title>
  <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_KAKAO_API_KEY&libraries=services"></script>
  <style>
    #map {
      width: 100%;
      height: 100vh;
    }
  </style>
</head>
<body>
  <div id="map"></div>
  <script>
    // 지도 생성
    const mapContainer = document.getElementById('map'); 
    const mapOption = {
      center: new kakao.maps.LatLng(37.5665, 126.9780), // 기본 위치 (서울)
      level: 3, // 지도의 확대 레벨
    };
    const map = new kakao.maps.Map(mapContainer, mapOption);

    // 장소 검색 객체 생성
    const ps = new kakao.maps.services.Places();

    // 검색 결과 클릭 시 React Native로 데이터 전달
    const sendResultToReactNative = (place) => {
      if (window.ReactNativeWebView) {
        window.ReactNativeWebView.postMessage(place.address_name);
      }
    };

    // 키워드 검색 콜백
    const placesSearchCB = (data, status) => {
      if (status === kakao.maps.services.Status.OK) {
        const place = data[0]; // 첫 번째 결과 선택
        sendResultToReactNative(place);
      }
    };

    // 키워드로 검색 요청
    ps.keywordSearch("판교역", placesSearchCB); // 기본 검색어 (판교역)
  </script>
</body>
</html>
